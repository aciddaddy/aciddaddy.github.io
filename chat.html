<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>web café</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Favicon Link -->
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        /* Snake Game Styles */
        #gameCanvas {
            border: 1px solid black;
            display: block;
            margin: 20px auto;
        }
        #score {
            text-align: center;
            font-size: 20px;
            color: black;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="nav-button">home</a>
            <a href="about.html" class="nav-button">about me</a>
            <a href="music.html" class="nav-button">music</a>
            <a href="record-label.html" class="nav-button">record label</a>
            <a href="gallery.html" class="nav-button">gallery</a>
            <a href="blog.html" class="nav-button">blog</a>
            <a href="chat.html" class="nav-button">web café</a>
        </nav>
    </header>

    <main><br>
        <h1>web café</h1>

        <h2>Snake Game</h2>
        <canvas id="gameCanvas" width="400" height="400"></canvas>
        <div id="score">Score: 0</div>

        <div class="chat-container">
            <!-- Insert your chat room embed code here -->
            <iframe width="550" height="350" scrolling="no" src="https://widget.mibbit.com/?settings=50f1d470165e4250fd454052c020bb92&server=&channel=%23aciddaddy1_test"></iframe>
        </div>

        <script>
            $(document).ready(function() {
                var canvas = $("#gameCanvas")[0];
                var ctx = canvas.getContext("2d");
                var box = 20;
                var snake = [];
                var score = 0;
                var direction = "RIGHT";

                snake[0] = { x: 9 * box, y: 9 * box };

                var food = {
                    x: Math.floor(Math.random() * 18 + 1) * box,
                    y: Math.floor(Math.random() * 18 + 1) * box
                };

                $(document).keydown(function(event) {
                    if (event.keyCode == 37 && direction != "RIGHT") {
                        direction = "LEFT";
                    } else if (event.keyCode == 38 && direction != "DOWN") {
                        direction = "UP";
                    } else if (event.keyCode == 39 && direction != "LEFT") {
                        direction = "RIGHT";
                    } else if (event.keyCode == 40 && direction != "UP") {
                        direction = "DOWN";
                    }
                });

                function draw() {
                    ctx.fillStyle = "#000";
                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                    for (var i = 0; i < snake.length; i++) {
                        ctx.fillStyle = (i === 0) ? "green" : "white";
                        ctx.fillRect(snake[i].x, snake[i].y, box, box);
                        ctx.strokeStyle = "black";
                        ctx.strokeRect(snake[i].x, snake[i].y, box, box);
                    }

                    ctx.fillStyle = "red";
                    ctx.fillRect(food.x, food.y, box, box);

                    var snakeX = snake[0].x;
                    var snakeY = snake[0].y;

                    if (direction == "LEFT") snakeX -= box;
                    if (direction == "UP") snakeY -= box;
                    if (direction == "RIGHT") snakeX += box;
                    if (direction == "DOWN") snakeY += box;

                    if (snakeX == food.x && snakeY == food.y) {
                        score++;
                        $("#score").text("Score: " + score);
                        food = {
                            x: Math.floor(Math.random() * 18 + 1) * box,
                            y: Math.floor(Math.random() * 18 + 1) * box
                        };
                    } else {
                        snake.pop();
                    }

                    var newHead = {
                        x: snakeX,
                        y: snakeY
                    };

                    if (snakeX < 0 || snakeY < 0 || snakeX >= canvas.width || snakeY >= canvas.height || collision(newHead, snake)) {
                        clearInterval(game);
                        alert("Game Over! Your score: " + score);
                        document.location.reload();
                    }

                    snake.unshift(newHead);
                }

                function collision(head, array) {
                    for (var i = 0; i < array.length; i++) {
                        if (head.x == array[i].x && head.y == array[i].y) {
                            return true;
                        }
                    }
                    return false;
                }

                var game = setInterval(draw, 100);
            });
        </script>
    </main>

    <footer>
        <p>&copy; 2024 acid daddy | identity spectrum records</p>
    </footer>
    <br>
</body>
</html>
